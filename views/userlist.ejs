<%- include("partials/header",{user: user}) %>

<div id="wrapper">

  <% include partials/admin/adminMenu %>

  <style>
    table.dataTable tbody td {
      padding: 4px 10px;
    }
  </style>
  <div id="page-content-wrapper" style="padding:0;margin-top:60px">
    <div class="container-fluid page-content-div" style="padding:0">
      <div class="row">
        <div class="col-lg-12 scoll-possible" style="padding:0">
          <div style="margin-left:20px;margin-right:20px;margin-top:20px">
            <div class="form-control allSides" id="roleFilterTitle" style="float: left;width:90px;font-weight:bold;">
              User List
            </div>
            <select class="form-control filter-button" id="roleFilter" name="filter"
              style="float: right;margin-left: 10px;">
              <option name="user" value="">All</option>
              <option name="user" value="admin">Admins</option>
              <option name="admin" value="user">Users</option>
              <option name="commuity manager" value="commuity manager">Community Builder</option>
            </select>
            <select class="form-control filter-button" id="statusFilter" name="statusFilter"
              style="float: right;margin-left: 10px;">
              <option name="user" value="">All</option>
              <option name="pending" value="pending">Pending</option>
              <option name="confirmed" value="confirmed">Confirmed</option>
            </select>
            <button onclick="refresh()" class="btn btn-default"
              style="float: right;background-color: #2D312C;color: #fff">
              <span class="glyphicon glyphicon-refresh"></span> Refresh
            </button>
            <br><br><br>
            <table class="table table-striped table-bordered nowrap dataTable no-footer" id="usertable"
              style="width: 100%; display: table;">
              <thead>
                <tr role="row">
                  <th class="tableId sorting_disabled">User Id</th>
                  <th class="tableUname sorting_asc">Usename/Email</th>
                  <th class="tablePhone sorting_disabled">Phone</th>
                  <th class="tableCity sorting">City</th>
                  <th class="tableStatus sorting">Status</th>
                  <th class="tableRole sorting">Role</th>
                  <th class="tableAction sorting_disabled">Actions</th>
                </tr>
              </thead>
              <tbody id="tbody">
                <% for(var i=0; i< userlist.length; i++){ %>
                  <tr>
                    <td style="display: none"></td>
                    <td><%=userlist[i].Email%></td>
                    <td><%=userlist[i].Phone%></td>
                    <td><%=userlist[i].City%></td>
                    <td><%=userlist[i].Status%></td>
                    <td><%=userlist[i].Role%></td>
                    <td></td>
                  </tr>
                <% } %>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>


  </body>
  <script>
    var table = $(document).ready(function () {

      $('#usertable').DataTable();
      //    columns: [
      //     { data: 'email' },
      //     { data: 'phone' },
      //     { data: 'city' },
      //     { data: 'status' },
      //     { data: 'role' },
      //     { data: 'null' }
      //   ]
      // });
      //   "ajax": {
      //     "url": "/getusers",
      //     "type": "POST"
      //   },
      //   "columns": [
      //     { "data": "email" },
      //     { "data": "phone" },
      //     { "data": "city" },
      //     { "data": "status" },
      //     { "data": "role" },
      //     { "data": "null" }
      //   ]
      // });
      // console.log();
      // draw();


    });

    // function refresh(){
    //   table.draw();
    // }
  </script>

  </html>