<%- include("partials/header",{user: user}) %>

<div id="wrapper">

  <% if(user.Role.toLowerCase() == 'user' || user.Switch == 1){ %>
  <%- include("partials/community/communityMenu",{user: user}) %>
  <% } else { %>
  <%- include partials/admin/adminMenu %>
  <% } %>

  <div id="page-content-wrapper" style="padding:0;margin-top:60px">
    <div class="container-fluid page-content-div" style="padding:0">
      <div class="row">

        <div class="col-lg-12 scoll-possible" style="padding:0">





          <style>
            .form-control[disabled] {
              background-color: #f5f5f5;
              opacity: 1;
            }

            .select2-dropdown {
              display: none;
            }
          </style>




          <div class="container">
            <div style="margin-top:30px;">
              <div class="col-12">
                <div class="card allSidesSoft">
                  <div class="card-body">


                    <form method="post" action="/updateUser" enctype="multipart/form-data" id="profilepicform">

                      <div class="image-container" style="width: 14%">
                        <img src="/Upload/Profile/<%=user.ProfilePic %>" id="user-profile-image"
                          style="width: 150px; height: 150px" class="img-thumbnail allSidesSoft">
                        <div class="middle">
                          <input type="button" onclick="$('#profileUpload').click()" class="btn btn-default btn-sm"
                            id="changeProfilePicBtn" value="Change">
                          <input type="file" id="profileUpload" name="profileImage">
                        </div>
                      </div>
                      <br>

                      <div class="panel-group">
                        <div class="panel panel-default editUserPanel">
                          <div class="panel-heading">Basic Info</div>
                          <div class="panel-body">
                            <div class="form-group">
                              <label>Email :</label>
                              <input type="text" value="<%= user.Email %>" class="form-control" name="username"
                                disabled="true">
                            </div>
                            <div class="form-group">
                              <label>Name :</label>
                              <input type="text" value="<%=user.Name%>" class="form-control" name="fullname"
                                autocomplete="off" required="">
                            </div>
                            <div class="form-group" style="padding:0; width: 40%;">
                              <label>Gender :</label>
                              <select name="gender" class="form-control">
                                <optgroup label="Select Gender">
                                  <option value="Male" selected="">Male</option>
                                  <option value="Female">Female</option>
                                  <option value="Transgender">Transgender</option>
                                </optgroup>
                              </select>
                            </div>
                          </div>
                        </div>

                        <div class="panel panel-default editUserPanel">
                          <div class="panel-heading">Contact Info</div>
                          <div class="panel-body">
                            <div class="form-group">
                              <label>Phone :</label>
                              <input type="text" value="<%= user.Phone %>"" class=" form-control" name="phone"
                                maxlength="10" required="">
                            </div>
                            <div class="form-group">
                              <label>City :</label>
                              <input type="text" value="<%=user.City %>" class="form-control" name="city" required="">
                            </div>
                          </div>
                        </div>

                        <div class="panel panel-default editUserPanel">
                          <div class="panel-heading">Personal Info</div>
                          <div class="panel-body">

                            <div class="form-group">
                              <label>Interests :</label>
                              <textarea name="interests" class="form-control"></textarea>
                                
                            </div>

                            <div class="form-group">
                              <label>Tell us a bit more about your journey:</label>
                              <textarea type="text" class="form-control" name="aboutjourney"></textarea>
                            </div>

                            <div class="form-group">
                              <label>What are your expectations from the communities?</label>
                              <textarea type="text" class="form-control" name="comExpectations"></textarea>
                            </div>

                          </div>
                        </div>

                        <br>

                        <div class="form-group">

                          <a href="/changePassword" class="btn btn-warning pull-left btnEditForm"
                            style="margin:1px">Change
                            Password</a>

                          <a href="/Profile" class="btn btn-danger pull-right btnEditForm" style="margin:1px">Cancel</a>
                          <input type="submit" class="btn btn-primary pull-right btnEditForm" style="margin:1px"
                            value="Update">
                        </div>

                      </div>
                    </form>

                  </div>
                </div>
              </div>
            </div>
          </div>

          <br>

        </div>
      </div>
    </div>
  </div>
</div>